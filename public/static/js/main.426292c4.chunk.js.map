{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","images/Vector.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","card","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","onClick","onCardClick","name","onCardDelete","aria-label","onCardLike","length","Main","onEditAvatar","avatar","vector","onEditProfile","about","onAddPlace","cards","map","PopupWithForm","isOpen","onClose","title","formName","onSubmit","noValidate","children","type","buttonName","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","avatarRef","useRef","evt","onUpdateAvatar","current","ref","AddPlacePopup","cardName","cardLink","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","authorization","then","_statusJson","userInfo","method","body","JSON","stringify","cardInfo","cardId","App","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","closeAllPopups","all","getInitialCards","getUserInfo","user","catch","err","console","log","Provider","deleteLike","newCard","newCards","c","putLike","deleteCard","filter","editUserInfo","finally","addNewCard","updateUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.426292c4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"логотип\" />\n    </header>\n  );\n}\n\nexport default Header;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__author\">&copy; 2020 Серафима Назарова</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/Vector.a086f758.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n","import { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport React from 'react';\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const card = props.card;\n \n\nconst isOwn = card.owner._id === currentUser._id;\n\n\nconst cardDeleteButtonClassName = (\n  `element__delete-button ${isOwn ? '' : 'element__delete-button_hidden'}`\n);\n\n\n\nconst isLiked = card.likes.some(i => i._id === currentUser._id);\n\nconst cardLikeButtonClassName = (\n  `element__like-button ${isLiked ? 'element__like-button_active' : ''}`\n);\n\n\n\n  function handleCardClick() {\n    props.onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(card);\n  }\n\n\n  \n  return (\n    <li className=\"element\">\n      <img\n        className=\"element__image\"\n        src={card.link}\n        onClick={handleCardClick}\n        alt={card.name}\n      />\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n      <div className=\"element__image-name\">\n        <h2 className=\"element__name\">{card.name} </h2>\n        <div>\n          <button className={cardLikeButtonClassName} aria-label=\"лайк\" onClick={handleLikeClick} ></button>\n          <p className=\"element__like-number\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import vector from \"../images/Vector.svg\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from \"./Card\";\nimport React from 'react';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <button className=\"profile__upload-button\" onClick={props.onEditAvatar}>\n          <img className=\"profile__avatar\" alt=\"аватар\" src= {currentUser.avatar} />\n          <img\n            className=\"profile__upload-image\"\n            src={vector}\n            alt=\"Редактировать\"\n          />\n        </button>\n        <div className=\"profile__info\">\n          <div className=\"profile__text\">\n            <h1 className=\"profile__name\"> {currentUser.name}</h1>\n            <button\n              className=\"profile__edit-button\"\n              aria-label=\"редактировать\"\n              onClick={props.onEditProfile}\n            ></button>\n          </div>\n          <p className=\"profile__name-about\"> {currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          aria-label=\"добавить\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__table\">\n          {props.cards.map((card) => {\n            return <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />;\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function PopupWithForm(props) {\n  return (\n    <section\n      className={`popup popup_${props.name} ${props.isOpen && \"popup_opened\"}`}\n    >\n      <div className=\"popup__container\">\n        <button\n          className=\"popup__close\"\n          aria-label=\"закрыть\"\n          onClick={props.onClose}\n        ></button>\n\n        <div className=\"popup__content\">\n          <h2 className=\"popup__title\">{props.title}</h2>\n\n          <form className=\"popup__form\" name={props.formName} onSubmit={props.onSubmit} noValidate>\n          \n            {props.children}\n            <button\n            className=\"popup__save-button\"\n            type=\"submit\"\n            aria-label=\"сохранить\"\n            onClick={props.onClose}\n          >\n            {props.buttonName}\n          </button>\n          </form>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","function ImagePopup(props) {\n  return (\n    <section className={`popup popup_photo ${props.isOpen && \"popup_opened\"}`}>\n      <div className=\"popup__photo-container\">\n        <button className=\"popup__close\" onClick={props.onClose}></button>\n        <img\n          className=\"popup__image\"\n          src={props.card.link}\n          alt={props.card.name}\n        />\n        <h2 className=\"popup__image-name\">{props.card.name}</h2>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\r\nimport { useState, useEffect } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);    \r\n\r\n    function onNameChange(e) {\r\n        setName(e.target.value);\r\n      }\r\n      function onDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n      }\r\n\r\n\r\n\r\n\r\nfunction handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n}\r\n\r\nuseEffect(() => {\r\n  setName(currentUser.name);\r\n  setDescription(currentUser.about);\r\n}, [currentUser]);\r\n\r\n\r\n\r\n\r\n    return (\r\n        <PopupWithForm\r\n        name=\"popup_profile\"\r\n        title=\"Редактировать профиль\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        buttonName=\"Сохранить\"\r\n        formName=\"edit-profile-form\"\r\n        children = {\r\n        <>\r\n            <input\r\n            className=\"popup__form-item popup__form-name\"\r\n            id=\"name-input\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Имя\"\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            required\r\n            value={name || \"\"}\r\n            onChange={onNameChange}\r\n          />\r\n          <span className=\"popup__error\" id=\"name-input-error\"></span>\r\n          <input\r\n            className=\"popup__form-item popup__form-job\"\r\n            id=\"job-input\"\r\n            type=\"text\"\r\n            name=\"about\"\r\n            placeholder=\"О себе\"\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            required\r\n            value={description || \"\"}\r\n            onChange={onDescriptionChange}\r\n          />\r\n          <span className=\"popup__error\" id=\"job-input-error\"></span>\r\n        </>\r\n        }/>\r\n    )\r\n }\r\n\r\n      \r\nexport default EditProfilePopup;\r\n    ","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onUpdateAvatar({\r\n          avatar: avatarRef.current.value,\r\n        });\r\n      }\r\n\r\n    return (\r\n        <PopupWithForm\r\n        name=\"upload-avatar\"\r\n        title=\"Обновить аватар\"\r\n        buttonName=\"Сохранить\"\r\n        formName=\"add-photo-form\"\r\n        onSubmit={handleSubmit}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        children = {\r\n        <>\r\n            <input\r\n            className=\"popup__form-item popup__form-link\"\r\n            id=\"avatar-link-input\"\r\n            type=\"url\"\r\n            name=\"link\"\r\n            placeholder=\"Ссылка на фотографию\"\r\n            maxLength=\"200\"\r\n            required\r\n            ref={avatarRef}\r\n          />\r\n          <span className=\"popup__error\" id=\"avatar-link-input-error\"></span>\r\n        </>\r\n        }/>\r\n    )\r\n }\r\n\r\n export default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport {useRef} from 'react';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const cardName = useRef();\r\n    //Используем реф инпута ссылки на карточку\r\n    const cardLink = useRef();\r\n  \r\n    //Обработчик сабмита формы\r\n    function handleSubmit(evt) {\r\n      evt.preventDefault();\r\n      props.onAddPlace({\r\n        name: cardName.current.value,\r\n        link: cardLink.current.value,\r\n      });\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm\r\n        name=\"add-card\"\r\n        title=\"Новое место\"\r\n        buttonName=\"Сохранить\"\r\n        formName=\"add-card-form\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        children = {\r\n        <>\r\n            <input\r\n            className=\"popup__form-item popup__form-card-name\"\r\n            id=\"name-card-input\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Название\"\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            required\r\n            ref={cardName}\r\n          />\r\n          <span className=\"popup__error\" id=\"name-card-input-error\"></span>\r\n          <input\r\n            className=\"popup__form-item popup__form-link\"\r\n            id=\"link-input\"\r\n            type=\"url\"\r\n            name=\"link\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            maxLength=\"100\"\r\n            required\r\n            ref={cardLink}\r\n          />\r\n          <span className=\"popup__error\" id=\"link-input-error\"></span>\r\n        </>\r\n        }/>\r\n    )\r\n }\r\n\r\n      \r\nexport default AddPlacePopup;","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  //Статус ответа\n  _statusJson(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  //Загрузка информацию о пользователе\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      headers: {\n        authorization: this._headers,\n      },\n    }).then(this._statusJson);\n  }\n\n  //Загрузка карточек\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      headers: {\n        authorization: this._headers,\n      },\n    }).then(this._statusJson);\n  }\n\n  //Редактирование информации о пользователе\n  editUserInfo(userInfo) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._headers,\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: userInfo.name,\n        about: userInfo.about,\n      }),\n    }).then(this._statusJson);\n  }\n\n  //Добавление новой карточки\n  addNewCard(cardInfo) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: {\n        authorization: this._headers,\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: cardInfo.name,\n        link: cardInfo.link,\n      }),\n    }).then(this._statusJson);\n  }\n\n  //Отображение количества лайков\n  putLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"PUT\",\n      headers: {\n        authorization: this._headers,\n      },\n    }).then(this._statusJson);\n  }\n\n  //Удаление лайка\n  deleteLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._headers,\n      },\n    }).then(this._statusJson);\n  }\n\n  //Удаление карточки\n  deleteCard(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._headers,\n      },\n    }).then(this._statusJson);\n  }\n\n  //Обновление аватара пользователя\n  updateUserAvatar(avatar) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._headers,\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then(this._statusJson);\n  }\n}\n\n\n\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-17\",\n  headers: \"7425052a-c456-4fc7-a0e3-c6a41d33ee63\",\n});\n\n\nexport default api;\n","import Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport api from \"../utils/api\";\nimport { useEffect, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\n\n\n  const [selectedCard, setSelectedCard] = useState({});\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n    setImagePopupOpen(true);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({});\n    setImagePopupOpen(false);\n  };\n\n\n  useEffect(() => {\n    Promise.all([api.getInitialCards(), api.getUserInfo()])\n  .then(([cards, user]) => {\n    setCards(cards);\n    setCurrentUser(user);\n  })\n  .catch((err) => {\n    console.log(\"Произошла ошибка:\", err);\n  });\n  }, []);\n\n  \n\n\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    if (!isLiked) {\n      api\n      .putLike(card._id)\n      .then((newCard) => {  \n       const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n        })\n        .catch((err) => {\n        console.log(\"Произошла ошибка:\", err)\n          })\n        } else  { \n          api\n          .deleteLike(card._id)\n          .then((newCard) => {\n            const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n            setCards(newCards);\n          })\n          .catch((err) => {\n            console.log(\"Произошла ошибка:\", err)\n            })\n            \n          }  \n  }\n\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card)\n      .then(() => {\n          const newCards = cards.filter((c) => c._id !== card._id);\n          setCards(newCards);\n        })\n        .catch((err) => {\n          console.log(\"Произошла ошибка:\", err)\n          })\n      }\n\n      function handleUpdateUser(userInfo) {\n        api\n        .editUserInfo(userInfo)\n        .then((res) => {\n          setCurrentUser(res);\n        })\n  \n        .catch((err) => {\n          console.log(\"Произошла ошибка:\", err);\n        })\n  \n        .finally(() => {\n          closeAllPopups();\n        });\n          }\n\n         \n        function handleUpdateAvatar (userInfo) {\n          api\n          .updateUserAvatar(userInfo)\n          .then((res) => {\n            setCurrentUser(res);\n          })\n          .catch((err) => {\n            console.log(\"Произошла ошибка:\", err);\n          })\n    \n          .finally(() => {\n            closeAllPopups();\n          });\n        }\n\n\n        function handleAddPlaceSubmit(cardInfo) {\n          api\n          .addNewCard(cardInfo)\n          .then((res) => {\n            setCards(res);\n          })\n    \n          .catch((err) => {\n            console.log(\"Произошла ошибка:\", err);\n          })\n    \n          .finally(() => {\n            closeAllPopups();\n          });\n            }\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"App\">\n      <div className=\"page\">\n        <div className=\"content\">\n          <Header />\n\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}\n          />\n\n          <Footer />\n        </div>\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n          \n\n        <PopupWithForm\n          name=\"delete-confirmation\"\n          buttonName=\"Да\"\n          formName=\"popup__form\"\n          onClose={closeAllPopups}\n        >\n          <h2 className=\"popup__title\">Вы уверены?</h2>\n        </PopupWithForm>\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n          isOpen={isImagePopupOpen}\n        />\n      </div>\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}